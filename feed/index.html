<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pepsval — Feed</title>

  <link rel="stylesheet" href="/feed/feed.css?v=2002" />
  <script>
    (function () {
      const theme = localStorage.getItem('theme') || 'light';
      if (theme === 'dark') document.documentElement.classList.add('dark-mode');
    })();
  </script>
</head>

<body class="app-bg">

  <!-- Top bar -->
  <header class="topbar">
    <div class="topLeft">
      <img class="brandIcon" src="/assets/logo.webp" alt="Pepsval" />
      <div class="brandName">Pepsval</div>
    </div>

    <div class="topSearch">
      <input id="searchInput" type="text" placeholder="Search seafarers, companies…" autocomplete="off" />
      <div id="searchDrop" class="searchDrop" style="display:none;"></div>
    </div>

    <div class="topRight">
      <button id="meAvatarBtn" class="avatarBtn" type="button" aria-label="Account menu">
        <img class="avatar" src="/assets/logo.webp" alt="Me" />
      </button>

      <div id="meMenu" class="avatarMenu">
        <button id="menuProfile" type="button">Profile</button>
        <button id="menuSettings" type="button">Settings</button>
        <button id="menuLogout" type="button">Logout</button>
      </div>
    </div>
  </header>

  <!-- Status -->
  <div id="feedStatus" class="status"></div>

  <!-- Composer -->
  <section class="composer">
    <div class="composerInner">
      <textarea id="postText" placeholder="What’s happening at sea today?"></textarea>

      <div class="composerActions">
        <button id="fileBtn" class="pv-pillBtn" type="button">Attach</button>
        <button id="postBtn" class="pv-btn" type="button">Post</button>
        <input id="postFile" type="file" accept="image/*,video/*" hidden />
      </div>

      <div id="fileInfo" class="fileInfo" style="display:none;">
        <div class="fileMeta">
          <span class="fileDot"></span>
          <span id="fileName"></span>
        </div>
        <button id="clearFile" class="pv-linkBtn" type="button">Remove</button>
      </div>

      <div id="progressWrap" class="progressWrap" style="display:none;">
        <div class="progressTop">
          <div id="progressLabel" class="progressLabel">Uploading…</div>
          <div id="progressPct" class="progressPct">0%</div>
        </div>
        <div class="progressBar">
          <div id="progressFill" class="progressFill" style="width:0%"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Feed list -->
  <main id="feedList" class="feedList"></main>

  <!-- Toast -->
  <div id="toast" class="toast" aria-live="polite"></div>

  <!-- Bottom nav -->
  <nav class="bottomNav">
    <a class="navItem active" href="/feed/index.html">Feed</a>
    <a class="navItem" href="/jobs/index.html">Jobs</a>
    <a class="navItem" href="/messages/index.html">Messages</a>
    <a class="navItem" href="/profile/home.html">Profile</a>
  </nav>

  <script type="module" src="/feed/feed.js?v=2002"></script>
</body>

</html>

<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pepsval ‚Äî Feed</title>

  <link rel="stylesheet" href="/feed/feed.css?v=2002" />
  <script>
    (function () {
      const theme = localStorage.getItem('theme') || 'light';
      if (theme === 'dark') document.documentElement.classList.add('dark-mode');
    })();
  </script>
</head>

<body class="app-bg">
  <div class="app-container">
    <!-- Sidebar (Desktop) -->
    <aside class="sidebar">
      <a href="/feed/index.html" class="sidebar-logo">Pepsval</a>

      <nav style="display: flex; flex-direction: column; gap: 4px;">
        <a class="navItem active" href="/feed/index.html">
          <span>üè†</span>
          <span>Feed</span>
        </a>
        <a class="navItem" href="/jobs/index.html">
          <span>‚öì</span>
          <span>Jobs</span>
        </a>
        <a class="navItem" href="/messages/index.html">
          <span>üí¨</span>
          <span>Chats</span>
        </a>
        <a class="navItem" href="/profile/home.html">
          <span>üë§</span>
          <span>Profile</span>
        </a>
        <a class="navItem" href="/dashboard/settings.html">
          <span>‚öôÔ∏è</span>
          <span>Settings</span>
        </a>
      </nav>

      <div style="margin-top: auto; padding: 12px;">
        <button id="sidebarLogout" class="pv-btn pv-btn-ghost"
          style="width: 100%; color: var(--danger); border-color: var(--stroke);">Logout</button>
      </div>
    </aside>

    <div class="main-content">
      <!-- Top bar (Mobile Cabinet) -->
      <header class="topbar">
        <div class="topLeft">
          <img class="brandIcon" src="/assets/logo.webp" alt="Pepsval" />
          <div class="brandName">Pepsval</div>
        </div>

        <div class="topSearch">
          <input id="searchInput" class="pv-input" type="text" placeholder="Search seafarers‚Ä¶" autocomplete="off" />
          <div id="searchDrop" class="searchDrop" style="display:none;"></div>
        </div>

        <div class="topRight">
          <button id="meAvatarBtn" class="avatarBtn" type="button">
            <img class="avatar" src="/assets/logo.webp" alt="Me" />
          </button>
        </div>
      </header>

      <div class="feed-layout">
        <div class="feed-main">
          <!-- Status -->
          <div id="feedStatus" class="status"></div>

          <!-- Composer -->
          <section class="composer animate-slide-up">
            <div class="composerInner">
              <textarea id="postText" placeholder="What‚Äôs happening at sea today?"></textarea>

              <div class="composerActions">
                <button id="fileBtn" class="pv-btn pv-btn-ghost" type="button">
                  <span>üìé</span> Attach
                </button>
                <button id="postBtn" class="pv-btn pv-btn-primary" type="button">Post</button>
                <input id="postFile" type="file" accept="image/*,video/*" hidden />
              </div>

              <div id="fileInfo" class="fileInfo" style="display:none;">
                <div class="fileMeta">
                  <span class="fileDot"></span>
                  <span id="fileName"></span>
                </div>
                <button id="clearFile" class="pv-linkBtn" type="button">Remove</button>
              </div>

              <div id="progressWrap" class="progressWrap" style="display:none;">
                <div class="progressTop">
                  <div id="progressLabel" class="progressLabel">Uploading‚Ä¶</div>
                  <div id="progressPct" class="progressPct">0%</div>
                </div>
                <div class="progressBar">
                  <div id="progressFill" class="progressFill" style="width:0%"></div>
                </div>
              </div>
            </div>
          </section>

          <!-- Feed list -->
          <main id="feedList" class="feedList"></main>
        </div>

        <!-- Right Sidebar (Desktop) -->
        <aside class="feed-side">
          <section class="pv-card glass" style="padding: 20px; border-radius: var(--radius-lg);">
            <h3 style="font-size: 16px; font-weight: 800; margin-bottom: 16px;">Maritime Trends</h3>
            <div style="display: flex; flex-direction: column; gap: 12px;">
              <div class="trend-item">
                <div style="font-size: 12px; color: var(--text-muted);">Trending in Shipping</div>
                <div style="font-weight: 700;">#Decarbonization</div>
              </div>
              <div class="trend-item">
                <div style="font-size: 12px; color: var(--text-muted);">Industry News</div>
                <div style="font-weight: 700;">New IMO Regulations 2026</div>
              </div>
              <div class="trend-item">
                <div style="font-size: 12px; color: var(--text-muted);">Career Advice</div>
                <div style="font-weight: 700;">ETO Certification Tips</div>
              </div>
            </div>
          </section>

          <section class="pv-card glass" style="padding: 20px; border-radius: var(--radius-lg); margin-top: 20px;">
            <h3 style="font-size: 16px; font-weight: 800; margin-bottom: 16px;">Suggested Companies</h3>
            <div style="display: flex; flex-direction: column; gap: 12px;">
              <div style="display: flex; gap: 12px; align-items: center;">
                <div
                  style="width: 32px; height: 32px; border-radius: 8px; background: var(--brand-soft); display: flex; align-items: center; justify-content: center; font-weight: 800; color: var(--brand);">
                  M</div>
                <div style="font-weight: 600; font-size: 14px;">Maersk Line</div>
              </div>
              <div style="display: flex; gap: 12px; align-items: center;">
                <div
                  style="width: 32px; height: 32px; border-radius: 8px; background: var(--brand-soft); display: flex; align-items: center; justify-content: center; font-weight: 800; color: var(--brand);">
                  MSC</div>
                <div style="font-weight: 600; font-size: 14px;">MSC Mediterranean</div>
              </div>
            </div>
          </section>
        </aside>
      </div>
    </div>
  </div>


  <!-- Image Editor Modal -->
  <div id="editorModal" class="editor-modal" style="display:none;">

    <div class="editor-content">
      <div class="editor-header">
        <h3 class="editor-title">Studio Editor</h3>
        <div class="editor-header-actions">
          <button id="btnUndo" class="pv-icon-btn" title="Undo">‚Ü©Ô∏è</button>
          <button id="btnRedo" class="pv-icon-btn" title="Redo">‚Ü™Ô∏è</button>
          <button id="closeEditorInv" class="pv-icon-btn">&times;</button>
        </div>
      </div>

      <div class="editor-workspace">
        <canvas id="editCanvas"></canvas>
      </div>

      <!-- Tools Navigation -->
      <div class="editor-tabs">
        <button class="editor-tab active" data-tab="filters">Filters</button>
        <button class="editor-tab" data-tab="adjust">Adjust</button>
        <button class="editor-tab" data-tab="crop">Crop</button>
        <button class="editor-tab" data-tab="draw">Draw</button>
        <button class="editor-tab" data-tab="text">Text</button>
      </div>

      <!-- Tools Panels -->
      <div class="editor-panels">
        <!-- Filters -->
        <div class="editor-panel active" id="panel-filters">
          <div class="filter-grid">
            <button class="filter-btn active" data-filter="normal">Normal</button>
            <button class="filter-btn" data-filter="grayscale">B&W</button>
            <button class="filter-btn" data-filter="sepia">Sepia</button>
            <button class="filter-btn" data-filter="invert">Invert</button>
            <button class="filter-btn" data-filter="warm">Warm</button>
            <button class="filter-btn" data-filter="cool">Cool</button>
            <button class="filter-btn" data-filter="vintage">Vintage</button>
          </div>
        </div>

        <!-- Adjust -->
        <div class="editor-panel" id="panel-adjust">
          <div class="editor-slider-wrap">
            <div class="editor-slider-label"><span>Brightness</span> <span id="val-brightness">100%</span></div>
            <input type="range" class="editor-range" id="rng-brightness" min="0" max="200" value="100">
          </div>
          <div class="editor-slider-wrap">
            <div class="editor-slider-label"><span>Contrast</span> <span id="val-contrast">100%</span></div>
            <input type="range" class="editor-range" id="rng-contrast" min="0" max="200" value="100">
          </div>
          <div class="editor-slider-wrap">
            <div class="editor-slider-label"><span>Saturation</span> <span id="val-saturate">100%</span></div>
            <input type="range" class="editor-range" id="rng-saturate" min="0" max="200" value="100">
          </div>
          <div class="editor-slider-wrap">
            <div class="editor-slider-label"><span>Blur</span> <span id="val-blur">0px</span></div>
            <input type="range" class="editor-range" id="rng-blur" min="0" max="10" value="0">
          </div>
        </div>

        <!-- Crop -->
        <div class="editor-panel" id="panel-crop">
          <div class="crop-grid">
            <button class="pv-btn pv-btn-ghost" data-crop="free">Free</button>
            <button class="pv-btn pv-btn-ghost" data-crop="1:1">Square (1:1)</button>
            <button class="pv-btn pv-btn-ghost" data-crop="4:3">4:3</button>
            <button class="pv-btn pv-btn-ghost" data-crop="16:9">16:9</button>
            <button class="pv-btn pv-btn-ghost" data-crop="reset">Reset</button>
          </div>
        </div>

        <!-- Draw -->
        <div class="editor-panel" id="panel-draw">
          <div class="draw-controls">
            <div class="color-picker-row">
              <div class="color-dot active" style="background:#000000" data-color="#000000"></div>
              <div class="color-dot" style="background:#ffffff" data-color="#ffffff"></div>
              <div class="color-dot" style="background:#ff0000" data-color="#ff0000"></div>
              <div class="color-dot" style="background:#00ff00" data-color="#00ff00"></div>
              <div class="color-dot" style="background:#0000ff" data-color="#0000ff"></div>
              <div class="color-dot" style="background:#ffff00" data-color="#ffff00"></div>
            </div>
            <div class="editor-slider-wrap">
              <div class="editor-slider-label"><span>Brush Size</span> <span id="val-brush">5px</span></div>
              <input type="range" class="editor-range" id="rng-brush" min="1" max="50" value="5">
            </div>
            <div style="display:flex; gap:10px; margin-top:10px;">
              <button id="btn-draw-mode" class="pv-btn pv-btn-primary" style="flex:1">Draw</button>
              <button id="btn-erase-mode" class="pv-btn pv-btn-ghost" style="flex:1">Erase</button>
              <button id="btn-clear-draw" class="pv-btn pv-btn-ghost" style="color:var(--danger)">Clear All</button>
            </div>
          </div>
        </div>

        <!-- Text -->
        <div class="editor-panel" id="panel-text">
          <div style="display:flex; gap:10px;">
            <input id="text-input" type="text" class="pv-input" placeholder="Enter text...">
            <button id="btn-add-text" class="pv-btn pv-btn-primary">Add</button>
          </div>
          <div style="margin-top:10px; display:flex; gap:10px; align-items:center;">
            <span>Color:</span>
            <input type="color" id="text-color" value="#ffffff">
            <button id="btn-clear-text" class="pv-btn pv-btn-ghost" style="font-size:12px; margin-left:auto;">Clear
              Text</button>
          </div>
        </div>
      </div>

      <div class="editor-actions">
        <button id="cancelEdit" class="pv-btn pv-btn-ghost">Cancel</button>
        <button id="saveEdit" class="pv-btn pv-btn-primary">Save & Apply</button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" aria-live="polite"></div>


  <!-- Bottom nav (Mobile) -->
  <nav class="bottomNav glass">
    <a class="navItem active" href="/feed/index.html">
      <span>üè†</span>
      <span>Feed</span>
    </a>
    <a class="navItem" href="/jobs/index.html">
      <span>‚öì</span>
      <span>Jobs</span>
    </a>
    <a class="navItem" href="/messages/index.html">
      <span>üí¨</span>
      <span>Chats</span>
    </a>
    <a class="navItem" href="/profile/home.html">
      <span>üë§</span>
      <span>Profile</span>
    </a>
  </nav>

  <script type="module" src="/feed/feed.js?v=2002"></script>
</body>

</html>
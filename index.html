<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b1f28" />

  <title>PEPSVAL</title>

  <!-- Icons -->
  <link rel="icon" href="favicon.png" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
  <link rel="manifest" href="manifest.webmanifest" />

  <style>
    :root{
      --bg-deep:#07161c;
      --sea-a:#06181f;
      --sea-b:#0a2a33;
      --glow:#1F6F86;
      --text:#eaf6fb;
      --muted:rgba(234,246,251,.72);
    }

    html,body{
      height:100%;
      margin:0;
      background:#000;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    /* Root app container */
    #app{
      min-height:100%;
    }

    /* ======================
       SPLASH (Instagram-style)
       ====================== */
    #splash{
      position:fixed;
      inset:0;
      z-index:9999;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        radial-gradient(1200px 900px at 50% -10%, rgba(255,255,255,.10), transparent 55%),
        radial-gradient(700px 550px at 50% 0%, rgba(31,111,134,.18), transparent 60%),
        linear-gradient(180deg, var(--sea-a), var(--sea-b));
      overflow:hidden;
      transform:translateZ(0);
    }

    /* Water movement layer */
    #splash::before{
      content:"";
      position:absolute;
      inset:-20%;
      background:
        radial-gradient(800px 400px at 30% 25%, rgba(255,255,255,.06), transparent 55%),
        radial-gradient(700px 380px at 70% 40%, rgba(255,255,255,.05), transparent 60%),
        radial-gradient(900px 500px at 55% 85%, rgba(255,255,255,.04), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.02), transparent 40%, rgba(0,0,0,.18));
      filter: blur(1px);
      opacity:.9;
      animation: waterDrift 5.5s ease-in-out infinite;
      will-change: transform, opacity;
    }

    @keyframes waterDrift{
      0%   { transform: translate3d(0,0,0) scale(1.02); opacity:.82; }
      50%  { transform: translate3d(-1.5%, 1.2%,0) scale(1.04); opacity:.92; }
      100% { transform: translate3d(0,0,0) scale(1.02); opacity:.84; }
    }

    /* Light rays layer */
    #splash::after{
      content:"";
      position:absolute;
      inset:-30%;
      background:
        conic-gradient(from 180deg at 50% -10%,
          rgba(255,255,255,.15),
          rgba(255,255,255,0) 12%,
          rgba(255,255,255,.12) 24%,
          rgba(255,255,255,0) 40%,
          rgba(255,255,255,.10) 55%,
          rgba(255,255,255,0) 75%,
          rgba(255,255,255,.13));
      mix-blend-mode: screen;
      opacity:.28;
      filter: blur(2px);
      animation: rays 4.6s ease-in-out infinite;
      transform-origin: 50% 0%;
      will-change: transform, opacity;
    }

    @keyframes rays{
      0%   { transform: rotate(-2deg) translate3d(0,0,0); opacity:.22; }
      50%  { transform: rotate(3deg) translate3d(0, 1.2%,0); opacity:.33; }
      100% { transform: rotate(-2deg) translate3d(0,0,0); opacity:.24; }
    }

    .splash-inner{
      position:relative;
      width:min(520px, 92vw);
      height:min(740px, 92vh);
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:18px;
      color:var(--text);
      text-align:center;
      padding:24px;
    }

    .logo-wrap{
      width:min(210px, 42vw);
      height:min(210px, 42vw);
      display:grid;
      place-items:center;
      border-radius: 28px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow:
        0 22px 70px rgba(0,0,0,.45),
        0 0 0 1px rgba(31,111,134,.18) inset;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      animation: floaty 2.6s ease-in-out infinite;
      will-change: transform;
    }

    @keyframes floaty{
      0%   { transform: translate3d(0,0,0); }
      50%  { transform: translate3d(0,-8px,0); }
      100% { transform: translate3d(0,0,0); }
    }

    .logo-wrap img{
      width:68%;
      height:auto;
      display:block;
      filter: drop-shadow(0 14px 28px rgba(0,0,0,.35));
    }

    .splash-bottom{
      position:absolute;
      left:0;
      right:0;
      bottom: max(28px, env(safe-area-inset-bottom));
      display:flex;
      flex-direction:column;
      gap:6px;
      align-items:center;
      justify-content:center;
      padding:0 18px;
    }

    .brand-title{
      letter-spacing:.24em;
      font-weight:800;
      font-size: 22px;
      line-height:1.1;
      text-shadow: 0 10px 22px rgba(0,0,0,.45);
    }

    .tagline{
      font-size:14px;
      color:var(--muted);
      letter-spacing:.06em;
      text-transform: lowercase;
    }

    .loading-dot{
      margin-top:10px;
      width:46px;
      height:10px;
      display:flex;
      gap:6px;
      align-items:center;
      justify-content:center;
      opacity:.75;
    }
    .loading-dot span{
      width:7px;height:7px;border-radius:999px;
      background: rgba(255,255,255,.75);
      animation: bounce 0.9s infinite ease-in-out;
    }
    .loading-dot span:nth-child(2){ animation-delay:.12s; }
    .loading-dot span:nth-child(3){ animation-delay:.24s; }
    @keyframes bounce{
      0%,100%{ transform: translateY(0); opacity:.55; }
      50%{ transform: translateY(-5px); opacity:1; }
    }

    /* Hide animation */
    #splash.hidden{
      animation: splashOut .25s ease forwards;
    }
    @keyframes splashOut{
      to{ opacity:0; transform: scale(1.01); }
    }

    /* If JS fails, still show a message */
    noscript{
      position:fixed;
      inset:auto 12px 12px 12px;
      background:#111;
      color:#fff;
      padding:12px 14px;
      border-radius:12px;
      z-index:10000;
      font-size:13px;
    }
  </style>

  <!-- Supabase (required by app.js) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
  <!-- SPLASH (shows for ~1.2s, then auto-hides) -->
  <div id="splash" aria-label="Loading">
    <div class="splash-inner">
      <div class="logo-wrap">
        <!-- Use your existing logo file name -->
        <img src="logo.webp" alt="PEPSVAL Logo" />
      </div>

      <div class="splash-bottom">
        <div class="brand-title">PEPSVAL</div>
        <div class="tagline">connect, hire and grow</div>
        <div class="loading-dot" aria-hidden="true">
          <span></span><span></span><span></span>
        </div>
      </div>
    </div>
  </div>

  <!-- App mounts here -->
  <div id="app"></div>

  <noscript>
    JavaScript is required to run PEPSVAL. Please enable JavaScript and reload.
  </noscript>

  <script>
    // SPLASH CONTROLLER:
    // 1) Show splash immediately.
    // 2) Hide after 1.2s minimum.
    // 3) Also force-hide after 1.6s even if app.js crashes.
    (function(){
      const splash = document.getElementById("splash");
      if(!splash) return;

      function hideSplash(){
        if (splash.classList.contains("hidden")) return;
        splash.classList.add("hidden");
        setTimeout(()=>{ try{ splash.remove(); }catch(e){} }, 260);
      }

      // Minimum splash time (your request ~1.2s)
      const minTimer = setTimeout(hideSplash, 1200);

      // Absolute safety timer (never stuck)
      const safetyTimer = setTimeout(hideSplash, 1600);

      // Expose a hook: app.js can call window.__hideSplashNow()
      window.__hideSplashNow = function(){
        clearTimeout(minTimer);
        clearTimeout(safetyTimer);
        hideSplash();
      };

      // If page fully loaded, still respect timing above.
      window.addEventListener("load", ()=>{/* no-op */});
    })();
  </script>

  <!-- Your SPA logic -->
  <script src="app.js?v=1"></script>

  <script>
    // If app.js loads successfully, it can call __hideSplashNow().
    // But even if it doesn't, the safety timer above prevents being stuck.
    // OPTIONAL: if app.js is loaded, hide right after it finishes boot quickly.
    setTimeout(()=> {
      if (typeof window.__hideSplashNow === "function") window.__hideSplashNow();
    }, 1350);
  </script>
</body>
</html>